import{g as Zt,b as zt}from"./amator-Y4KSeFHr.js";import{w as Ft}from"./wheel-CGaMi8wd.js";import{n as Ot}from"./ngraph.events-C8F6FHEm.js";var Lt=Nt;function Nt(u,o,i){typeof i!="object"&&(i={});var l=typeof i.minVelocity=="number"?i.minVelocity:5,d=typeof i.amplitude=="number"?i.amplitude:.25,g=typeof i.cancelAnimationFrame=="function"?i.cancelAnimationFrame:qt(),a=typeof i.requestAnimationFrame=="function"?i.requestAnimationFrame:Pt(),x,S,T=342,s,c,h,p,B,Z,A,w;return{start:L,stop:$,cancel:j};function j(){g(s),g(w)}function L(){x=u(),p=A=c=B=0,S=new Date,g(s),g(w),s=a(K)}function K(){var k=Date.now(),O=k-S;S=k;var C=u(),M=C.x-x.x,N=C.y-x.y;x=C;var b=1e3/(1+O);c=.8*M*b+.2*c,B=.8*N*b+.2*B,s=a(K)}function $(){g(s),g(w);var k=u();h=k.x,Z=k.y,S=Date.now(),(c<-l||c>l)&&(p=d*c,h+=p),(B<-l||B>l)&&(A=d*B,Z+=A),w=a(F)}function F(){var k=Date.now()-S,O=!1,C=0,M=0;p&&(C=-p*Math.exp(-k/T),C>.5||C<-.5?O=!0:C=p=0),A&&(M=-A*Math.exp(-k/T),M>.5||M<-.5?O=!0:M=A=0),O&&(o(h+C,Z+M),w=a(F))}}function qt(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function Pt(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(u){return setTimeout(u,16)}}var Rt=It;function It(u){if(u)return{capture:Xe,release:Xe};var o,i,l,d=!1;return{capture:g,release:a};function g(x){d=!0,i=window.document.onselectstart,l=window.document.ondragstart,window.document.onselectstart=Ve,o=x,o.ondragstart=Ve}function a(){d&&(d=!1,window.document.onselectstart=i,o&&(o.ondragstart=l))}}function Ve(u){return u.stopPropagation(),!1}function Xe(){}var de,je;function Yt(){if(je)return de;je=1,de=u;function u(){this.x=0,this.y=0,this.scale=1}return de}var oe={exports:{}},Ke;function Vt(){if(Ke)return oe.exports;Ke=1,oe.exports=u,oe.exports.canAttach=o;function u(i,l){if(!o(i))throw new Error("svg element is required for svg.panzoom to work");var d=i.ownerSVGElement;if(!d)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");l.disableKeyboardInteraction||d.setAttribute("tabindex",0);var g={getBBox:x,getScreenCTM:S,getOwner:a,applyTransform:s,initTransform:T};return g;function a(){return d}function x(){var c=i.getBBox();return{left:c.x,top:c.y,width:c.width,height:c.height}}function S(){var c=d.getCTM();return c||d.getScreenCTM()}function T(c){var h=i.getCTM();h===null&&(h=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),c.x=h.e,c.y=h.f,c.scale=h.a,d.removeAttributeNS(null,"viewBox")}function s(c){i.setAttribute("transform","matrix("+c.scale+" 0 0 "+c.scale+" "+c.x+" "+c.y+")")}}function o(i){return i&&i.ownerSVGElement&&i.getCTM}return oe.exports}var ae={exports:{}},We;function Xt(){if(We)return ae.exports;We=1,ae.exports=u,ae.exports.canAttach=o;function u(i,l){var d=o(i);if(!d)throw new Error("panzoom requires DOM element to be attached to the DOM tree");var g=i.parentElement;i.scrollTop=0,l.disableKeyboardInteraction||g.setAttribute("tabindex",0);var a={getBBox:S,getOwner:x,applyTransform:T};return a;function x(){return g}function S(){return{left:0,top:0,width:i.clientWidth,height:i.clientHeight}}function T(s){i.style.transformOrigin="0 0 0",i.style.transform="matrix("+s.scale+", 0, 0, "+s.scale+", "+s.x+", "+s.y+")"}}function o(i){return i&&i.parentElement&&i.style}return ae.exports}var Ge=Ft,he=zt,jt=Ot,Kt=Lt,et=Rt,Wt=et(),Gt=et(!0),_t=Yt(),_e=Vt(),$e=Xt(),$t=1,Ut=1.75,Ue=300,He=200,Ht=tt;function tt(u,o){o=o||{};var i=o.controller;if(i||(_e.canAttach(u)?i=_e(u,o):$e.canAttach(u)&&(i=$e(u,o))),!i)throw new Error("Cannot create panzoom for the current type of dom element");var l=i.getOwner(),d={x:0,y:0},g=!1,a=new _t;i.initTransform&&i.initTransform(a);var x=typeof o.filterKey=="function"?o.filterKey:X,S=typeof o.pinchSpeed=="number"?o.pinchSpeed:1,T=o.bounds,s=typeof o.maxZoom=="number"?o.maxZoom:Number.POSITIVE_INFINITY,c=typeof o.minZoom=="number"?o.minZoom:0,h=typeof o.boundsPadding=="number"?o.boundsPadding:.05,p=typeof o.zoomDoubleClickSpeed=="number"?o.zoomDoubleClickSpeed:Ut,B=o.beforeWheel||X,Z=o.beforeMouseDown||X,A=typeof o.zoomSpeed=="number"?o.zoomSpeed:$t,w=Je(o.transformOrigin),j=o.enableTextSelection?Gt:Wt;Jt(T),o.autocenter&&it();var L,K=0,$=0,F=0,k=null,O=new Date,C,M=!1,N=!1,b,D,ie,ue,ce,E;"smoothScroll"in o&&!o.smoothScroll?E=Qt():E=Kt(gt,bt,o.smoothScroll);var fe,W,U,H=!1;Se();var J={dispose:Tt,moveBy:R,moveTo:le,smoothMoveTo:wt,centerOn:xt,zoomTo:re,zoomAbs:Q,smoothZoom:te,smoothZoomAbs:Bt,showRectangle:at,pause:rt,resume:nt,isPaused:ot,getTransform:ut,getMinZoom:ct,setMinZoom:ft,getMaxZoom:lt,setMaxZoom:st,getTransformOrigin:vt,setTransformOrigin:mt,getZoomSpeed:dt,setZoomSpeed:ht};jt(J);var pe=typeof o.initialX=="number"?o.initialX:a.x,ye=typeof o.initialY=="number"?o.initialY:a.y,xe=typeof o.initialZoom=="number"?o.initialZoom:a.scale;return(pe!=a.x||ye!=a.y||xe!=a.scale)&&Q(pe,ye,xe),J;function rt(){Ce(),H=!0}function nt(){H&&(Se(),H=!1)}function ot(){return H}function at(e){var t=l.getBoundingClientRect(),r=q(t.width,t.height),n=e.right-e.left,f=e.bottom-e.top;if(!Number.isFinite(n)||!Number.isFinite(f))throw new Error("Invalid rectangle");var v=r.x/n,m=r.y/f,y=Math.min(v,m);a.x=-(e.left+n/2)*y+r.x/2,a.y=-(e.top+f/2)*y+r.y/2,a.scale=y}function q(e,t){if(i.getScreenCTM){var r=i.getScreenCTM(),n=r.a,f=r.d,v=r.e,m=r.f;d.x=e*n-v,d.y=t*f-m}else d.x=e,d.y=t;return d}function it(){var e,t,r=0,n=0,f=be();if(f)r=f.left,n=f.top,e=f.right-f.left,t=f.bottom-f.top;else{var v=l.getBoundingClientRect();e=v.width,t=v.height}var m=i.getBBox();if(!(m.width===0||m.height===0)){var y=t/m.height,Y=e/m.width,P=Math.min(Y,y);a.x=-(m.left+m.width/2)*P+e/2+r,a.y=-(m.top+m.height/2)*P+t/2+n,a.scale=P}}function ut(){return a}function ct(){return c}function ft(e){c=e}function lt(){return s}function st(e){s=e}function vt(){return w}function mt(e){w=Je(e)}function dt(){return A}function ht(e){if(!Number.isFinite(e))throw new Error("Zoom speed should be a number");A=e}function gt(){return{x:a.x,y:a.y}}function le(e,t){a.x=e,a.y=t,se(),I("pan"),ve()}function we(e,t){le(a.x+e,a.y+t)}function se(){var e=be();if(e){var t=!1,r=pt(),n=e.left-r.right;return n>0&&(a.x+=n,t=!0),n=e.right-r.left,n<0&&(a.x+=n,t=!0),n=e.top-r.bottom,n>0&&(a.y+=n,t=!0),n=e.bottom-r.top,n<0&&(a.y+=n,t=!0),t}}function be(){if(T){if(typeof T=="boolean"){var e=l.getBoundingClientRect(),t=e.width,r=e.height;return{left:t*h,top:r*h,right:t*(1-h),bottom:r*(1-h)}}return T}}function pt(){var e=i.getBBox(),t=yt(e.left,e.top);return{left:t.x,top:t.y,right:e.width*a.scale+t.x,bottom:e.height*a.scale+t.y}}function yt(e,t){return{x:e*a.scale+a.x,y:t*a.scale+a.y}}function ve(){g=!0,L=window.requestAnimationFrame(St)}function Te(e,t,r){if(ge(e)||ge(t)||ge(r))throw new Error("zoom requires valid numbers");var n=a.scale*r;if(n<c){if(a.scale===c)return;r=c/a.scale}if(n>s){if(a.scale===s)return;r=s/a.scale}var f=q(e,t);if(a.x=f.x-r*(f.x-a.x),a.y=f.y-r*(f.y-a.y),T&&h===1&&c===1)a.scale*=r,se();else{var v=se();v||(a.scale*=r)}I("zoom"),ve()}function Q(e,t,r){var n=r/a.scale;Te(e,t,n)}function xt(e){var t=e.ownerSVGElement;if(!t)throw new Error("ui element is required to be within the scene");var r=e.getBoundingClientRect(),n=r.left+r.width/2,f=r.top+r.height/2,v=t.getBoundingClientRect(),m=v.width/2-n,y=v.height/2-f;R(m,y,!0)}function wt(e,t){R(e-a.x,t-a.y,!0)}function R(e,t,r){if(!r)return we(e,t);fe&&fe.cancel();var n={x:0,y:0},f={x:e,y:t},v=0,m=0;fe=he(n,f,{step:function(y){we(y.x-v,y.y-m),v=y.x,m=y.y}})}function bt(e,t){ne(),le(e,t)}function Tt(){Ce()}function Se(){l.addEventListener("mousedown",ze,{passive:!1}),l.addEventListener("dblclick",Ze,{passive:!1}),l.addEventListener("touchstart",De,{passive:!1}),l.addEventListener("keydown",Me,{passive:!1}),Ge.addWheelListener(l,qe,{passive:!1}),ve()}function Ce(){Ge.removeWheelListener(l,qe),l.removeEventListener("mousedown",ze),l.removeEventListener("keydown",Me),l.removeEventListener("dblclick",Ze),l.removeEventListener("touchstart",De),L&&(window.cancelAnimationFrame(L),L=0),E.cancel(),Le(),Ne(),j.release(),me()}function St(){g&&Ct()}function Ct(){g=!1,i.applyTransform(a),I("transform"),L=0}function Me(e){var t=0,r=0,n=0;if(e.keyCode===38?r=1:e.keyCode===40?r=-1:e.keyCode===37?t=1:e.keyCode===39?t=-1:e.keyCode===189||e.keyCode===109?n=1:(e.keyCode===187||e.keyCode===107)&&(n=-1),!x(e,t,r,n)){if(t||r){e.preventDefault(),e.stopPropagation();var f=l.getBoundingClientRect(),v=Math.min(f.width,f.height),m=.05,y=v*m*t,Y=v*m*r;R(y,Y)}if(n){var P=Pe(n*100),v=w?_():Mt();re(v.x,v.y,P)}}}function Mt(){var e=l.getBoundingClientRect();return{x:e.width/2,y:e.height/2}}function De(e){if(Dt(e),G(),e.touches.length===1)return Et(e,e.touches[0]);e.touches.length===2&&(ce=Ae(e.touches[0],e.touches[1]),U=!0,ke())}function Dt(e){o.onTouch&&!o.onTouch(e)||(e.stopPropagation(),e.preventDefault())}function kt(e){G(),!(o.onDoubleClick&&!o.onDoubleClick(e))&&(e.preventDefault(),e.stopPropagation())}function Et(e){$=new Date;var t=e.touches[0],r=z(t);C=r;var n=q(r.x,r.y);b=n.x,D=n.y,ie=b,ue=D,E.cancel(),ke()}function ke(){M||(M=!0,document.addEventListener("touchmove",Ee),document.addEventListener("touchend",ee),document.addEventListener("touchcancel",ee))}function Ee(e){if(e.touches.length===1){e.stopPropagation();var t=e.touches[0],r=z(t),n=q(r.x,r.y),f=n.x-b,v=n.y-D;f!==0&&v!==0&&Re(),b=n.x,D=n.y,R(f,v)}else if(e.touches.length===2){U=!0;var m=e.touches[0],y=e.touches[1],Y=Ae(m,y),P=1+(Y/ce-1)*S,Ie=z(m),Ye=z(y);if(b=(Ie.x+Ye.x)/2,D=(Ie.y+Ye.y)/2,w){var r=_();b=r.x,D=r.y}re(b,D,P),ce=Y,e.stopPropagation(),e.preventDefault()}}function G(){F&&(clearTimeout(F),F=0)}function Be(e){if(o.onClick){G();var t=b-ie,r=D-ue,n=Math.sqrt(t*t+r*r);n>5||(F=setTimeout(function(){F=0,o.onClick(e)},Ue))}}function ee(e){if(G(),e.touches.length>0){var t=z(e.touches[0]),r=q(t.x,t.y);b=r.x,D=r.y}else{var n=new Date;if(n-K<Ue)if(w){var t=_();te(t.x,t.y,p)}else te(C.x,C.y,p);else n-$<He&&Be(e);K=n,me(),Ne()}}function Ae(e,t){var r=e.clientX-t.clientX,n=e.clientY-t.clientY;return Math.sqrt(r*r+n*n)}function Ze(e){kt(e);var t=z(e);w&&(t=_()),te(t.x,t.y,p)}function ze(e){if(G(),!Z(e)){if(k=e,O=new Date,M)return e.stopPropagation(),!1;var t=e.button===1&&window.event!==null||e.button===0;if(t){E.cancel();var r=z(e),n=q(r.x,r.y);return ie=b=n.x,ue=D=n.y,document.addEventListener("mousemove",Fe),document.addEventListener("mouseup",Oe),j.capture(e.target||e.srcElement),!1}}}function Fe(e){if(!M){Re();var t=z(e),r=q(t.x,t.y),n=r.x-b,f=r.y-D;b=r.x,D=r.y,R(n,f)}}function Oe(){var e=new Date;e-O<He&&Be(k),j.release(),me(),Le()}function Le(){document.removeEventListener("mousemove",Fe),document.removeEventListener("mouseup",Oe),N=!1}function Ne(){document.removeEventListener("touchmove",Ee),document.removeEventListener("touchend",ee),document.removeEventListener("touchcancel",ee),N=!1,U=!1,M=!1}function qe(e){if(!B(e)){E.cancel();var t=e.deltaY;e.deltaMode>0&&(t*=100);var r=Pe(t);if(r!==1){var n=w?_():z(e);re(n.x,n.y,r),e.preventDefault()}}}function z(e){var t,r,n=l.getBoundingClientRect();return t=e.clientX-n.left,r=e.clientY-n.top,{x:t,y:r}}function te(e,t,r){var n=a.scale,f={scale:n},v={scale:r*n};E.cancel(),ne(),W=he(f,v,{step:function(m){Q(e,t,m.scale)},done:At})}function Bt(e,t,r){var n=a.scale,f={scale:n},v={scale:r};E.cancel(),ne(),W=he(f,v,{step:function(m){Q(e,t,m.scale)}})}function _(){var e=l.getBoundingClientRect();return{x:e.width*w.x,y:e.height*w.y}}function re(e,t,r){return E.cancel(),ne(),Te(e,t,r)}function ne(){W&&(W.cancel(),W=null)}function Pe(e){var t=Math.sign(e),r=Math.min(.25,Math.abs(A*e/128));return 1-t*r}function Re(){N||(I("panstart"),N=!0,E.start())}function me(){N&&(U||E.stop(),I("panend"))}function At(){I("zoomend")}function I(e){J.fire(e,J)}}function Je(u){if(u){if(typeof u=="object")return(!V(u.x)||!V(u.y))&&Qe(u),u;Qe()}}function Qe(u){throw console.error(u),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function X(){}function Jt(u){var o=typeof u;if(!(o==="undefined"||o==="boolean")){var i=V(u.left)&&V(u.top)&&V(u.bottom)&&V(u.right);if(!i)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function V(u){return Number.isFinite(u)}function ge(u){return Number.isNaN?Number.isNaN(u):u!==u}function Qt(){return{start:X,stop:X,cancel:X}}function er(){if(typeof document>"u")return;var u=document.getElementsByTagName("script");if(!u)return;for(var o,i=0;i<u.length;++i){var l=u[i];if(l.src&&l.src.match(/\bpanzoom(\.min)?\.js/)){o=l;break}}if(!o)return;var d=o.getAttribute("query");if(!d)return;var g=o.getAttribute("name")||"pz",a=Date.now();x();function x(){var s=document.querySelector(d);if(!s){var c=Date.now(),h=c-a;if(h<2e3){setTimeout(x,100);return}console.error("Cannot find the panzoom element",g);return}var p=S(o);console.log(p),window[g]=tt(s,p)}function S(s){for(var c=s.attributes,h={},p=0;p<c.length;++p){var B=c[p],Z=T(B);Z&&(h[Z.name]=Z.value)}return h}function T(s){if(s.name){var c=s.name[0]==="p"&&s.name[1]==="z"&&s.name[2]==="-";if(c){var h=s.name.substr(3),p=JSON.parse(s.value);return{name:h,value:p}}}}}er();const or=Zt(Ht);export{or as p};
